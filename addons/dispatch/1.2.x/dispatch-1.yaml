# Do NOT edit this file directly.
# File generated from clusteraddon.yaml.tmpl by the update-gitops-repo tool with arguments: /usr/bin/update-gitops-repo -branch= -create-pull-request=false '-commit-message='"'"'update mesosphere/dispatch image digest to 1.2.0-beta1'"'"'' -substitute=chartVersion=1.2.0-beta1 -substitute=chartRepo=https://mesosphere.github.io/dispatch -substitute=minioDefaultSize=50Gi -substitute=buildName=1.2.0-beta1 -substitute=dispatchImage=mesosphere/dispatch@sha256:83546f5d159ea62f6fd4c9d4296982a0763d82e9de9e786c680446eed2d80ec8 -substitute=dispatchTestImage=mesosphere/dispatch-helm-test:1.2.0-beta1 -substitute=helmImage=mesosphere/dispatch-helm:1.2.0-beta1 -substitute=kindImage=mesosphere/dispatch-kind@sha256:5f0ec88d6c2e72f04a96a64681e540d5c6b1e4743e46992d6b35ed5f0ceaf106 -substitute=testutilsImage=mesosphere/dispatch-testutils@sha256:b5da81e428477105f5823135a9f705a607e0234d38a24fd366c98b42b6b48c42 -substitute=entrypointImage=mesosphere/dispatch-entrypoint@sha256:1a3c3115d6373587593407052a7bbff2dee5c3390571e5691ff6fd4e8f0f94c4 -substitute=gsutilImage=mesosphere/dispatch-gsutil@sha256:d94c435c8fb864ed88bc80c677b7252b5fc9f09be342c2e5fdc38d3f51e6a391 -compile-only -git-ignore -verbose

apiVersion: kubeaddons.mesosphere.io/v1beta1
kind: ClusterAddon
metadata:
  name: dispatch
  labels:
    kubeaddons.mesosphere.io/name: dispatch
    kubeaddons.mesosphere.io/hack-requires-defaultstorageclass: "true"
  annotations:
    catalog.kubeaddons.mesosphere.io/addon-revision: "1.2.0-beta1"

    # Dispatch
    appversion.kubeaddons.mesosphere.io/dispatch: "1.2.0-beta1"
    endpoint.kubeaddons.mesosphere.io/dispatch: /dispatch/dashboard 
    docs.kubeaddons.mesosphere.io/dispatch: "https://docs.d2iq.com/ksphere/dispatch/latest/"

    # Tekton
    appversion.kubeaddons.mesosphere.io/tekton: "0.11.0"
    endpoint.kubeaddons.mesosphere.io/tekton: /dispatch/tekton/
    docs.kubeaddons.mesosphere.io/tekton: "https://docs.d2iq.com/ksphere/dispatch/latest/"

    # Argo CD
    appversion.kubeaddons.mesosphere.io/argo-cd: "1.4.2"
    endpoint.kubeaddons.mesosphere.io/argo-cd: /dispatch/argo-cd
    docs.kubeaddons.mesosphere.io/argo-cd: "https://argoproj.github.io/argo-cd/user-guide/"

    values.chart.helm.kubeaddons.mesosphere.io/dispatch: "https://raw.githubusercontent.com/mesosphere/charts/master/stable/dispatch/values.yaml"
spec:
  namespace: dispatch
  kubernetes:
    minSupportedVersion: v1.15.6
  cloudProvider:
    - name: aws
      enabled: false
    - name: azure
      enabled: false
    - name: gcp
      enabled: false
    - name: docker
      enabled: false
    - name: none
      enabled: false
  requires:
    - matchLabels:
        kubeaddons.mesosphere.io/name: prometheus
  chartReference:
    chart: dispatch
    repo: "https://mesosphere.github.io/dispatch"
    version: "1.2.0-beta1"
    values: |
      ---
      argo-cd:
        controller:
          metrics:
            enabled: true
            serviceMonitor:
              additionalLabels:
                release: prometheus-kubeaddons
        server:
          metrics:
            enabled: true
            serviceMonitor:
              additionalLabels:
                release: prometheus-kubeaddons
        repoServer:
          metrics:
            enabled: true
            serviceMonitor:
              additionalLabels:
                release: prometheus-kubeaddons
      global:
        prometheus:
          enabled: true
          release: prometheus-kubeaddons
        grafana:
          enabled: true
          namespace: kubeaddons
      minio:
        persistence:
          size: "50Gi"
